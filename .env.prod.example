# Fabstir LLM Node Production Environment Configuration
# Copy this file to .env.prod and fill in the values

# =============================================================================
# REQUIRED - S5 Storage Identity
# =============================================================================
# Generate with: node -e "import('@julesl23/s5js').then(({S5}) => S5.generateSeedPhrase().then(console.log))"
S5_SEED_PHRASE="your twelve word seed phrase here for s5 storage identity"

# =============================================================================
# REQUIRED - Host Wallet (for settlements and proof signing)
# =============================================================================
HOST_PRIVATE_KEY=0x...your_host_wallet_private_key

# =============================================================================
# Blockchain Configuration
# =============================================================================
CHAIN_ID=84532
BASE_SEPOLIA_RPC_URL=https://sepolia.base.org

# =============================================================================
# REQUIRED - AUDIT-F4 Remediated Contract Addresses (January 31, 2026)
# =============================================================================
# These environment variables are REQUIRED - node will not start without them
CONTRACT_JOB_MARKETPLACE=0x95132177F964FF053C1E874b53CF74d819618E06
CONTRACT_PROOF_SYSTEM=0xE8DCa89e1588bbbdc4F7D5F78263632B35401B31
CONTRACT_NODE_REGISTRY=0x8BC0Af4aAa2dfb99699B1A24bA85E507de10Fd22
CONTRACT_HOST_EARNINGS=0xE4F33e9e132E60fc3477509f99b9E1340b91Aee0
CONTRACT_MODEL_REGISTRY=0x1a9d91521c85bD252Ac848806Ff5096bBb9ACDb2
USDC_TOKEN=0x036CbD53842c5426634e7929541eC2318f3dCF7e
FAB_TOKEN=0xC78949004B4EB6dEf2D66e49Cd81231472612D62
MULTICALL3_ADDRESS=0xcA11bde05977b3631167028862bE2a173976CA11

# =============================================================================
# Model Configuration - GPT-OSS-120B (131K Context)
# =============================================================================
# Path to GGUF model file inside container (first part only - llama.cpp auto-loads rest)
MODEL_PATH=/models/gpt-oss-120b-GGUF/gpt-oss-120b-mxfp4-00001-of-00003.gguf

# Context window - 131K tokens (upgrade from 8K default)
MAX_CONTEXT_LENGTH=131072

# GPU layers - all layers to GPU for Blackwell architecture
GPU_LAYERS=99

# Chat template - Harmony format with channels
MODEL_CHAT_TEMPLATE=harmony

# Host directory containing models (mounted to /models in container)
MODELS_DIR=./models

# LLM batch size (optimal for most scenarios)
LLAMA_BATCH_SIZE=2048

# =============================================================================
# Network Configuration
# =============================================================================
P2P_PORT=9000
API_PORT=8080

# =============================================================================
# S5 Network (Platformless AI Portal - Sia Storage)
# =============================================================================
# S5_PORTAL_URL=https://s5.platformlessai.ai
# S5_INITIAL_PEERS=wss://z2Das8aEF7oNoxkcrfvzerZ1iBPWfm6D7gy3hVE4ALGSpVB@node.sfive.net/s5/p2p,wss://z2DWuWNZcdSyZLpXFK2uCU3haaWMXrDAgxzv17sDEMHstZb@s5.garden/s5/p2p,wss://z2Dh2pH1t1u3mjoQKDrZccLQ1CG9hJe3wdFvLCQhDx5UX1K@s5.vup.cx/s5/p2p

# =============================================================================
# Optional Features
# =============================================================================
# Web search
WEB_SEARCH_ENABLED=true
# BRAVE_API_KEY=your_brave_api_key

# Logging level (error, warn, info, debug, trace)
RUST_LOG=info
LOG_LEVEL=info
